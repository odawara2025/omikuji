<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>小田原おみくじ</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #1a1a1a, #000);
      font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
      text-align: center;
      overflow-x: hidden;
    }

    h1 {
      color: #fff;
      margin-top: 30px;
      font-size: 26px;
      letter-spacing: 3px;
    }

    /* 提灯 */
    #lantern {
      width: 220px;
      height: 260px;
      margin: 40px auto;
      background: radial-gradient(circle at center, #fff, #ddd);
      border: 4px solid #222;
      border-radius: 110px / 140px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      font-size: 80px;
      font-weight: bold;
      color: #222;
      box-shadow: 0 0 40px rgba(255, 180, 80, 0.3);
      transition: box-shadow 0.3s, background 0.3s;
    }

    #lantern.glow {
      background: radial-gradient(circle at center, #ffe8b0, #ffb84d);
      box-shadow: 0 0 60px rgba(255, 160, 50, 0.8), 0 0 100px rgba(255, 140, 40, 0.6);
    }

    #lantern::before, #lantern::after {
      content: '';
      position: absolute;
      left: 25%;
      width: 50%;
      height: 8px;
      background: #222;
      border-radius: 4px;
    }
    #lantern::before { top: -15px; }
    #lantern::after { bottom: -15px; }

    .button-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    button {
      background: #e63946;
      color: white;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      padding: 14px 32px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    button:active {
      transform: scale(0.96);
      background: #c92c3b;
    }

    #omikujiPaper {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: #fffaf0;
      background-image: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 25px,
        rgba(0,0,0,0.04) 26px
      );
      color: #222;
      font-size: 18px;
      text-align: center;
      padding: 40px 20px;
      box-sizing: border-box;
      overflow-y: auto;
    }

    .fortune {
      font-size: 64px;
      font-weight: bold;
      color: #c1272d;
      margin-top: 60px;
      line-height: 1.2;
    }

    .kanji {
      font-size: 36px;
      margin: 10px 0 20px 0;
      color: #333;
    }

    .message {
      margin: 20px auto;
      width: 90%;
      line-height: 1.7;
      font-size: 22px;
    }

    .link {
      margin-top: 30px;
      font-size: 20px;
      line-height: 1.5;
    }

    .link a {
      color: #c1272d;
      text-decoration: none;
      font-weight: bold;
    }
    .link a:hover {
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      .fortune { font-size: 72px; }
      .kanji { font-size: 40px; }
      .message { font-size: 22px; width: 90%; }
      button { font-size: 24px; padding: 16px 36px; }
    }
  </style>
</head>
<body>

<h1>✨ 小田原おみくじ ✨</h1>

<div id="lantern">？</div>

<div class="button-container">
  <button id="drawBtn">おみくじを引く</button>
</div>

<div id="omikujiPaper">
  <div class="fortune" id="fortune"></div>
  <div class="kanji" id="kanji"></div>
  <div class="message" id="message"></div>
  <div class="link" id="recommendation"></div>
</div>

<script>
  const omikujiSet = [
    { fortune: "大吉", kanji: "灯", message: "灯のようにあなたの周りが明るく照らされる一日です。", recommendation: '<a href="https://www.nanohana.co.jp/" target="_blank">和菓子 菜の花：「焼きモンブラン」</a>' },
    { fortune: "大吉", kanji: "灯", message: "周りの人の笑顔があなたの光になります。", recommendation: '<a href="https://www.nanohana.co.jp/" target="_blank">和菓子 菜の花：「月のうさぎ」</a>' },
    { fortune: "吉", kanji: "実", message: "努力が実を結び、思わぬ成果が期待できます。", recommendation: '<a href="https://www.kamaboko.com/" target="_blank">鈴廣かまぼこ：「あげかま詰合せ」</a>' },
    { fortune: "吉", kanji: "実", message: "地道な積み重ねが、豊かな実りをもたらします。", recommendation: '<a href="https://www.kamaboko.com/" target="_blank">鈴廣かまぼこ：「手づくり体験セット」</a>' },
    { fortune: "中吉", kanji: "未", message: "未来への準備を始めると良い流れが訪れます。", recommendation: '<a href="https://tanakaya-odawara.com/" target="_blank">田中屋本店：「昆布佃煮詰合せ」</a>' },
    { fortune: "中吉", kanji: "未", message: "新しいことを始める勇気が幸運を呼びます。", recommendation: '<a href="https://tanakaya-odawara.com/" target="_blank">田中屋本店：「磯の香り海苔」</a>' },
    { fortune: "小吉", kanji: "凪", message: "心が穏やかに整う一日。小さな喜びを大切に。", recommendation: '<a href="https://takumi-kan.com/" target="_blank">Takumi館：「木製お守りチャーム」</a>' },
    { fortune: "小吉", kanji: "凪", message: "静けさの中で、新たな気づきが訪れます。", recommendation: '<a href="https://takumi-kan.com/" target="_blank">Takumi館：「漆塗り小物」</a>' },
    { fortune: "末吉", kanji: "歓", message: "小さな喜びや出会いが、あなたの心を和ませます。", recommendation: '<a href="https://www.nanohana.co.jp/" target="_blank">菜の花：「どら焼き ほほえみ」</a>' },
    { fortune: "末吉", kanji: "歓", message: "笑顔が集まり、穏やかな幸せが広がります。", recommendation: '<a href="https://www.nanohana.co.jp/" target="_blank">菜の花：「あづき茶まんじゅう」</a>' },
    { fortune: "凶", kanji: "福", message: "小さな不運もありますが、その先には福が待っています。", recommendation: '<a href="https://tanashu.jp/" target="_blank">最中工房 小田原種秀：「小田原城最中」</a>' },
    { fortune: "凶", kanji: "福", message: "心を整えれば、福は自然と訪れます。", recommendation: '<a href="https://tanashu.jp/" target="_blank">最中工房 小田原種秀：「栗最中」</a>' }
  ];

  const btn = document.getElementById("drawBtn");
  const lantern = document.getElementById("lantern");
  const paper = document.getElementById("omikujiPaper");
  const fortune = document.getElementById("fortune");
  const kanji = document.getElementById("kanji");
  const message = document.getElementById("message");
  const recommendation = document.getElementById("recommendation");

  btn.addEventListener("click", () => {
    let countdown = 3;
    lantern.textContent = countdown;
    btn.disabled = true;

    const interval = setInterval(() => {
      countdown--;
      if(countdown > 0){
        lantern.textContent = countdown;
        // 暖色系の光のアニメーション
        lantern.classList.toggle("glow");
      } else {
        clearInterval(interval);
        lantern.classList.remove("glow");

        // おみくじをランダムに選ぶ
        const index = Math.floor(Math.random() * omikujiSet.length);
        const pick = omikujiSet[index];

        lantern.style.display = "none";
        btn.parentElement.style.display = "none";
        paper.style.display = "block";

        fortune.textContent = pick.fortune;
        kanji.textContent = pick.kanji;
        message.textContent = pick.message;
        recommendation.innerHTML = `今日のおすすめ商品はこちら！<br>タップしてお店をチェック → ${pick.recommendation}`;
      }
    }, 1000);
  });
</script>

</body>
</html>
